<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sofa 1 | Fusion Furnish</title>
  <link rel="icon" href="images/furniturefav.png">
  <link rel="stylesheet" href="homepage.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <style>
    .product-image {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
    .product-info {
      padding: 2rem;
    }
    .product-title {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    .product-price {
      font-size: 1.75rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }
    .product-description {
      font-size: 1.1rem;
      color: #6c757d;
      margin-bottom: 2rem;
    }
    .product-details {
      margin-bottom: 2rem;
    }
    .product-details ul {
      list-style: none;
      padding: 0;
    }
    .product-details li {
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }
    .quantity-controls {
      display: flex;
      align-items: center;
      background: white;
      border-radius: 4px;
      border: 1px solid #dee2e6;
      height: 38px;
      overflow: hidden;
      width: fit-content;
      margin-bottom: 1rem;
    }
    .quantity-controls button {
      width: 32px;
      height: 38px;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: transparent;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 0;
      margin: 0;
    }
    .quantity-controls button:hover {
      background: #f8f9fa;
    }
    .quantity-display {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0 8px;
      border-left: 1px solid #dee2e6;
      border-right: 1px solid #dee2e6;
      height: 100%;
    }
    .quantity-display span {
      font-weight: 500;
      min-width: 20px;
      text-align: center;
    }
    .quantity-display .btn-success {
      padding: 2px 6px;
      font-size: 12px;
      border-radius: 3px;
      background-color: #198754;
      border-color: #198754;
    }
    .quantity-display .btn-success:hover {
      background-color: #157347;
      border-color: #146c43;
    }
    .add-to-cart-btn {
      height: 48px;
      padding: 0 32px;
      font-size: 1.1rem;
      font-weight: 500;
    }
  </style>
</head>
<body>
<header class="header">
  <div class="header-content">
    <div class="left-section">
      <i class="fas fa-map-marker-alt"></i>
      <a href="ComingSoonPage.html" class="store-link">Find a store.</a>
    </div>
    <div class="center-section">
      <h1 class="logo">Fusion Furnish</h1>
    </div>
    <div class="right-section">
      <input type="text" placeholder="What can we help you find?" class="search-bar">
      <i class="fas fa-search search-icon"></i>
      <a href="cart.html" class="cart-icon">
        <i class="fas fa-shopping-bag"></i>
      </a>
      <a href="signIn_signUp.html" class="btn btn-dark sign-in-btn">Sign In</a>
    </div>
  </div>
  <nav class="nav">
    <div class="menu-icon" onclick="toggleMenu()">
      <i class="fas fa-bars"></i>
    </div>
    <ul class="nav-links">
      <li><a href="homepage.html#explore-now">Explore</a></li>
      <li><a href="homepage.html#offerings">Our Offerings</a></li>
      <li><a href="homepage.html#about-us">About Us</a></li>
      <li><a href="homepage.html#meet-designers">Designers</a></li>
      <li><a href="homepage.html#assistance-faq">FAQs</a></li>
      <li><a href="homepage.html#Reviews">Reviews</a></li>
    </ul>
  </nav>
</header>

<div class="container py-5" style="margin-top: 30px;">
  <div class="row">
    <div class="col-lg-6">
      <img src="images/sofa1.jpg" alt="Sofa 1" class="product-image">
    </div>
    <div class="col-lg-6 product-info">
      <h1 class="product-title">Sofa 1</h1>
      <p class="product-description">Luxurious leather sofa for a modern look.</p>
      <div class="product-price">$1,299</div>
      
      <div class="product-details">
        <h4 class="mb-3">Product Details</h4>
        <ul>
          <li><strong>Material:</strong> Genuine Leather</li>
          <li><strong>Color:</strong> Black</li>
          <li><strong>Dimensions:</strong> 84" W x 36" D x 34" H</li>
          <li><strong>Warranty:</strong> 5 years</li>
        </ul>
      </div>

      <div class="quantity-controls" id="product-controls" style="display: none;">
        <button class="btn btn-outline-dark" onclick="updateQuantity(-1)">âˆ’</button>
        <div class="quantity-display">
          <span id="product-quantity">1</span>
          <button class="btn btn-sm btn-success" onclick="updateQuantity(1)" title="Add one more">
            <i class="fas fa-plus"></i>
          </button>
        </div>
      </div>

      <button class="btn btn-dark add-to-cart-btn" id="add-to-cart-btn" onclick="addToCart()">
        Add to Cart
      </button>

      <div class="mt-4">
        <p>This modern leather sofa is designed for both comfort and style, making it a perfect centerpiece for your living room. Crafted with premium materials and attention to detail.</p>
      </div>
    </div>
  </div>
</div>

<script>
  // Get product details from URL parameters
  const urlParams = new URLSearchParams(window.location.search);
  const productId = urlParams.get('product');
  
  // Product data (in a real app, this would come from a database)
  const productData = {
    'sofa1': {
      name: 'Sofa 1',
      price: 1299,
      image: 'images/sofa1.jpg',
      description: 'Luxurious leather sofa for a modern look.'
    },
    'sofa2': {
      name: 'Sofa 2',
      price: 1299,
      image: 'images/sofa2.jpg',
      description: 'Luxurious leather sofa for a modern look.'
    }
  };

  function addToCart() {
    const product = productData[productId];
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    // Check if item already exists in cart
    const existingItem = cart.find(item => item.name === product.name);
    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      cart.push({
        name: product.name,
        price: product.price,
        image: product.image,
        description: product.description,
        quantity: 1
      });
    }
    
    localStorage.setItem('cart', JSON.stringify(cart));
    
    // Update UI
    updateProductControls();
    updateCartIcon();
    
    // Show success message
    const toast = document.createElement('div');
    toast.className = 'position-fixed bottom-0 end-0 p-3';
    toast.style.zIndex = '5';
    toast.innerHTML = `
      <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">Success</strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
          Item added to cart!
        </div>
      </div>
    `;
    document.body.appendChild(toast);
    
    // Remove toast after 3 seconds
    setTimeout(() => {
      toast.remove();
    }, 3000);
  }

  function updateQuantity(change) {
    const product = productData[productId];
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const item = cart.find(item => item.name === product.name);
    
    if (item) {
      item.quantity = Math.max(0, item.quantity + change);
      
      if (item.quantity === 0) {
        // Remove item from cart if quantity is 0
        const index = cart.findIndex(item => item.name === product.name);
        cart.splice(index, 1);
        // Show add to cart button
        document.getElementById('add-to-cart-btn').style.display = 'inline-block';
        document.getElementById('product-controls').style.display = 'none';
      } else {
        // Update quantity display
        document.getElementById('product-quantity').textContent = item.quantity;
      }
      
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartIcon();
    }
  }

  function updateProductControls() {
    const product = productData[productId];
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const item = cart.find(item => item.name === product.name);
    
    if (item) {
      // Hide add to cart button
      document.getElementById('add-to-cart-btn').style.display = 'none';
      // Show quantity controls
      document.getElementById('product-controls').style.display = 'inline-flex';
      // Update quantity display
      document.getElementById('product-quantity').textContent = item.quantity;
    }
  }

  function updateCartIcon() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartIcon = document.querySelector('.cart-icon');
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    
    if (totalItems > 0) {
      cartIcon.innerHTML = `<i class="fas fa-shopping-bag"></i><span class="badge bg-danger">${totalItems}</span>`;
    } else {
      cartIcon.innerHTML = '<i class="fas fa-shopping-bag"></i>';
    }
  }

  // Initialize page
  document.addEventListener('DOMContentLoaded', function() {
    // Load product data
    const product = productData[productId];
    if (product) {
      document.querySelector('.product-title').textContent = product.name;
      document.querySelector('.product-description').textContent = product.description;
      document.querySelector('.product-price').textContent = `$${product.price}`;
      document.querySelector('.product-image').src = product.image;
      document.title = `Fusion Furnish | ${product.name}`;
    }

    // Update cart UI
    updateCartIcon();
    updateProductControls();
  });
</script>
</body>
</html>
